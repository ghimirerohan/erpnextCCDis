{"version":3,"file":"Home-OaPoPUYO.js","sources":["../../../../frontend/src/pages/Home.vue"],"sourcesContent":["<template>\n  <div class=\"min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <div class=\"bg-white shadow-sm border-b border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex justify-between items-center py-6\">\n          <div>\n            <h1 class=\"text-2xl font-bold text-gray-900\">Sales Invoice Dashboard</h1>\n            <p class=\"text-sm text-gray-600\">Welcome {{ session.user }}!</p>\n          </div>\n          <div class=\"flex gap-2\">\n          <Button @click=\"$router.push({ name: 'Scanner' })\" theme=\"blue\" variant=\"solid\">\n            Open Scanner\n          </Button>\n          <Button @click=\"session.logout.submit()\" theme=\"gray\" variant=\"outline\">\n            Logout\n          </Button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Main Content -->\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n      <!-- Filters Section -->\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\n        <h2 class=\"text-lg font-semibold text-gray-900 mb-4\">Filters</h2>\n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <div class=\"relative\">\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">Customer</label>\n            <div class=\"relative\">\n              <div v-if=\"selectionLocked\" class=\"border border-gray-300 rounded-md p-3\">\n                <div class=\"text-sm font-medium text-gray-900\">{{ selectedCustomer.customer_name }}</div>\n                <div class=\"text-xs text-gray-600 mt-1\">\n                  <span>Code: {{ selectedCustomer.customer_code || '—' }}</span>\n                  <span class=\"mx-2\">|</span>\n                  <span>Invoice: {{ selectedCustomer.invoice_no || '—' }}</span>\n                </div>\n                <div class=\"mt-2\">\n                  <button @click=\"resetSelection\" class=\"text-sm text-blue-600 underline\">Change selection</button>\n                </div>\n              </div>\n              <div v-else>\n                <div class=\"flex space-x-2 mb-3\">\n                  <button\n                    @click=\"selectMode = 'qr'\"\n                    :class=\"[\n                      'px-3 py-2 text-sm font-medium rounded-md border transition-colors',\n                      selectMode === 'qr' ? 'bg-blue-50 border-blue-400 text-blue-700' : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\n                    ]\"\n                  >\n                    QR Scanner\n                  </button>\n                  <button\n                    @click=\"selectMode = 'photo'\"\n                    :class=\"[\n                      'px-3 py-2 text-sm font-medium rounded-md border transition-colors',\n                      selectMode === 'photo' ? 'bg-blue-50 border-blue-400 text-blue-700' : 'bg-white border-gray-300 text-gray-700 hover:bg-gray-50'\n                    ]\"\n                  >\n                    Photo / Camera\n                  </button>\n                </div>\n                <div v-if=\"selectMode === 'qr'\" class=\"p-3 border border-gray-200 rounded-md text-sm text-gray-700\">\n                  <div v-if=\"qrSupported\">\n                    <div class=\"mb-2\">Point your camera at the QR code.</div>\n                    <video ref=\"qrVideo\" class=\"w-full rounded\" autoplay playsinline muted></video>\n                    <div class=\"mt-2 text-xs text-gray-500\">Scanning...</div>\n                  </div>\n                  <div v-else>\n                    QR scanning is not supported on this device/browser. Please use Photo.\n                  </div>\n                </div>\n                <div v-else-if=\"selectMode === 'photo'\" class=\"p-3 border border-gray-200 rounded-md\">\n                  <input type=\"file\" accept=\"image/*\" capture=\"environment\" @change=\"onPhotoSelected\" />\n                  <div v-if=\"extractLoading\" class=\"mt-2 text-sm text-gray-600\">Processing image...</div>\n                  <Alert v-if=\"extractError\" theme=\"red\" class=\"mt-2\">{{ extractError }}</Alert>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">From Date</label>\n            <input \n              type=\"date\" \n              v-model=\"filters.from_date\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            />\n          </div>\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-2\">To Date</label>\n            <input \n              type=\"date\" \n              v-model=\"filters.to_date\"\n              class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              required\n            />\n          </div>\n        </div>\n        <div class=\"mt-4 flex justify-end\">\n          <Button \n            @click=\"loadData\" \n            :loading=\"loading\" \n            theme=\"blue\" \n            variant=\"solid\"\n            :disabled=\"!filters.customer || !filters.from_date || !filters.to_date\"\n          >\n            Load Data\n          </Button>\n        </div>\n      </div>\n\n      <!-- View Toggle -->\n      <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6\">\n        <div class=\"flex items-center justify-between\">\n          <h2 class=\"text-lg font-semibold text-gray-900\">View Options</h2>\n          <div class=\"flex bg-gray-100 rounded-lg p-1\">\n            <button\n              @click=\"viewMode = 'bill'\"\n              :class=\"[\n                'px-4 py-2 text-sm font-medium rounded-md transition-colors',\n                viewMode === 'bill' \n                  ? 'bg-white text-blue-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-900'\n              ]\"\n            >\n              Bill-wise View\n            </button>\n            <button\n              @click=\"viewMode = 'summary'\"\n              :class=\"[\n                'px-4 py-2 text-sm font-medium rounded-md transition-colors',\n                viewMode === 'summary' \n                  ? 'bg-white text-blue-600 shadow-sm' \n                  : 'text-gray-600 hover:text-gray-900'\n              ]\"\n            >\n              Summary View\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Loading State -->\n      <div v-if=\"loading\" class=\"flex justify-center items-center py-12\">\n        <div class=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        <span class=\"ml-3 text-gray-600\">Loading data...</span>\n      </div>\n\n      <!-- Error State -->\n      <Alert v-if=\"error\" theme=\"red\" class=\"mb-6\">\n        {{ error }}\n      </Alert>\n\n      <!-- Bill-wise View -->\n      <div v-if=\"viewMode === 'bill' && !loading && data.length > 0\" class=\"space-y-6\">\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n          <div class=\"px-6 py-4 border-b border-gray-200\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              Sales Invoices ({{ data.length }} invoices)\n            </h3>\n          </div>\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Invoice\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Date\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Customer\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Total Amount\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Outstanding\n                  </th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr v-for=\"invoice in data\" :key=\"invoice.name\" class=\"hover:bg-gray-50\">\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600\">\n                    {{ invoice.name }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {{ formatDate(invoice.posting_date) }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {{ invoice.customer_name }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <Badge :theme=\"getStatusTheme(invoice.status)\">\n                      {{ invoice.status }}\n                    </Badge>\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 font-medium\">\n                    {{ formatCurrency(invoice.grand_total) }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900\">\n                    {{ formatCurrency(invoice.outstanding_amount) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- Invoice Details -->\n        <div v-for=\"invoice in data\" :key=\"`details-${invoice.name}`\" class=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div class=\"px-6 py-4 border-b border-gray-200\">\n            <h4 class=\"text-md font-semibold text-gray-900\">\n              Invoice: {{ invoice.name }} - {{ invoice.customer_name }}\n            </h4>\n            <p class=\"text-sm text-gray-600\">\n              Date: {{ formatDate(invoice.posting_date) }} | \n              Total: {{ formatCurrency(invoice.grand_total) }}\n            </p>\n          </div>\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Item\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Description\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Qty\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Rate\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Amount\n                  </th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr v-for=\"item in invoice.items\" :key=\"item.item_code\" class=\"hover:bg-gray-50\">\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    {{ item.item_code }}\n                  </td>\n                  <td class=\"px-6 py-4 text-sm text-gray-900\">\n                    {{ item.item_name }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900\">\n                    {{ item.qty }} {{ item.uom }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900\">\n                    {{ formatCurrency(item.rate) }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 font-medium\">\n                    {{ formatCurrency(item.amount) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <!-- Summary View -->\n      <div v-if=\"viewMode === 'summary' && !loading && summaryData.length > 0\" class=\"space-y-6\">\n        <div class=\"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden\">\n          <div class=\"px-6 py-4 border-b border-gray-200\">\n            <h3 class=\"text-lg font-semibold text-gray-900\">\n              Summary by Customer & Date ({{ summaryData.length }} groups)\n            </h3>\n          </div>\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Customer\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Date\n                  </th>\n                  <th class=\"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Invoices\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Total Amount\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Net Total\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Outstanding\n                  </th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr v-for=\"group in summaryData\" :key=\"`${group.customer}-${group.posting_date}`\" class=\"hover:bg-gray-50\">\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    {{ group.customer_name }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                    {{ formatDate(group.posting_date) }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-center text-gray-900\">\n                    {{ group.invoice_count }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 font-medium\">\n                    {{ formatCurrency(group.total_amount) }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900\">\n                    {{ formatCurrency(group.net_total) }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900\">\n                    {{ formatCurrency(group.outstanding_amount) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n\n        <!-- Item Summary -->\n        <div v-for=\"group in summaryData\" :key=\"`summary-${group.customer}-${group.posting_date}`\" class=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div class=\"px-6 py-4 border-b border-gray-200\">\n            <h4 class=\"text-md font-semibold text-gray-900\">\n              {{ group.customer_name }} - {{ formatDate(group.posting_date) }}\n            </h4>\n            <p class=\"text-sm text-gray-600\">\n              {{ group.invoice_count }} invoices | \n              Total: {{ formatCurrency(group.total_amount) }}\n            </p>\n          </div>\n          <div class=\"overflow-x-auto\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Item\n                  </th>\n                  <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Description\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Total Qty\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Avg Rate\n                  </th>\n                  <th class=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Total Amount\n                  </th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n                <tr v-for=\"item in group.items\" :key=\"item.item_code\" class=\"hover:bg-gray-50\">\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                    {{ item.item_code }}\n                  </td>\n                  <td class=\"px-6 py-4 text-sm text-gray-900\">\n                    {{ item.item_name }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900\">\n                    {{ item.total_qty }} {{ item.uom }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900\">\n                    {{ formatCurrency(item.avg_rate) }}\n                  </td>\n                  <td class=\"px-6 py-4 whitespace-nowrap text-sm text-right text-gray-900 font-medium\">\n                    {{ formatCurrency(item.total_amount) }}\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <!-- Empty State -->\n      <div v-if=\"!loading && data.length === 0 && summaryData.length === 0\" class=\"text-center py-12\">\n        <div class=\"text-gray-400 mb-4\">\n          <svg class=\"mx-auto h-12 w-12\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\n          </svg>\n        </div>\n        <h3 class=\"text-lg font-medium text-gray-900 mb-2\">No data found</h3>\n        <p class=\"text-gray-600\">Try adjusting your filters or selecting a different date range.</p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted, watch } from \"vue\"\nimport { createResource } from \"frappe-ui\"\nimport { session } from \"../data/session\"\n\n// Reactive data\nconst loading = ref(false)\nconst error = ref(\"\")\nconst viewMode = ref(\"bill\")\nconst data = ref([])\nconst summaryData = ref([])\n\nconst filters = reactive({\n  customer: \"\",\n  from_date: \"\",\n  to_date: \"\"\n})\n\n// New customer selection flow state\nconst selectionLocked = ref(false)\nconst selectMode = ref('photo')\nconst extractLoading = ref(false)\nconst extractError = ref(\"\")\nconst selectedCustomer = ref({ customer: \"\", customer_name: \"\", customer_code: \"\", invoice_no: \"\" })\nconst qrSupported = typeof window !== 'undefined' && 'BarcodeDetector' in window\nconst qrVideo = ref(null)\n\n// No customer list resource needed; selection comes from QR/Photo extraction\n\nconst salesInvoicesResource = createResource({\n  url: \"custom_erp.custom_erp.sales_invoice.api.get_sales_invoices\",\n  auto: false,\n  onSuccess: (result) => {\n    if (result.success) {\n      data.value = result.data\n      error.value = \"\"\n    } else {\n      error.value = result.error || \"Failed to load sales invoices\"\n    }\n  },\n  onError: (err) => {\n    error.value = \"Failed to load sales invoices: \" + err.message\n  }\n})\n\nconst salesInvoiceSummaryResource = createResource({\n  url: \"custom_erp.custom_erp.sales_invoice.api.get_sales_invoice_summary\",\n  auto: false,\n  onSuccess: (result) => {\n    if (result.success) {\n      summaryData.value = result.data\n      error.value = \"\"\n    } else {\n      error.value = result.error || \"Failed to load summary data\"\n    }\n  },\n  onError: (err) => {\n    error.value = \"Failed to load summary data: \" + err.message\n  }\n})\n\n// Methods\nconst loadData = async () => {\n  if (!filters.customer || !filters.from_date || !filters.to_date) {\n    error.value = \"Please fill in all required fields\"\n    return\n  }\n\n  loading.value = true\n  error.value = \"\"\n\n  try {\n    const filtersParam = JSON.stringify(filters)\n    \n    if (viewMode.value === \"bill\") {\n      await salesInvoicesResource.fetch({ filters: filtersParam })\n    } else {\n      await salesInvoiceSummaryResource.fetch({ filters: filtersParam })\n    }\n  } catch (err) {\n    error.value = \"Failed to load data: \" + err.message\n  } finally {\n    loading.value = false\n  }\n}\n\nconst formatDate = (dateString) => {\n  if (!dateString) return \"\"\n  const date = new Date(dateString)\n  return date.toLocaleDateString()\n}\n\nconst formatCurrency = (amount) => {\n  if (amount === null || amount === undefined) return \"0.00\"\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency: 'USD'\n  }).format(amount)\n}\n\nconst getStatusTheme = (status) => {\n  const themes = {\n    'Paid': 'green',\n    'Unpaid': 'red',\n    'Overdue': 'orange',\n    'Draft': 'gray',\n    'Submitted': 'blue'\n  }\n  return themes[status] || 'gray'\n}\n\n// New customer extraction + resolution methods\nconst resetSelection = () => {\n  selectionLocked.value = false\n  filters.customer = \"\"\n  selectedCustomer.value = { customer: \"\", customer_name: \"\", customer_code: \"\", invoice_no: \"\" }\n  extractError.value = \"\"\n}\n\nconst onPhotoSelected = async (event) => {\n  const file = event?.target?.files?.[0]\n  if (!file) return\n  extractError.value = \"\"\n  extractLoading.value = true\n  try {\n    // Convert to base64 data URL and call Frappe server-side extractor\n    const b64 = await new Promise((resolve, reject) => {\n      const reader = new FileReader()\n      reader.onload = () => resolve(String(reader.result))\n      reader.onerror = reject\n      reader.readAsDataURL(file)\n    })\n    const res = await fetch('/api/method/custom_erp.custom_erp.purchase_invoice.api.extract_invoice', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ image_data: b64 })\n    })\n    const json = await res.json()\n    const msg = json?.message || json\n    if (!res.ok || !msg?.success || !msg?.data) {\n      throw new Error(msg?.error || `Extraction failed (${res.status})`)\n    }\n\n    const invoiceBillNumber = msg.data.invoiceNumber || ''\n    const customerName = msg.data.customerName || ''\n    // Minimal resolver: try invoice number first; customerCode not available from full extractor\n    const resolved = await resolveCustomer({ invoiceBillNumber, customerCode: '' })\n    if (!resolved) {\n      throw new Error('Could not find matching customer from code or invoice')\n    }\n    filters.customer = resolved.customer\n    selectedCustomer.value = {\n      customer: resolved.customer,\n      customer_name: resolved.customer_name || customerName || resolved.customer,\n      customer_code: '',\n      invoice_no: invoiceBillNumber || ''\n    }\n    selectionLocked.value = true\n  } catch (e) {\n    extractError.value = e.message || 'Failed to process image'\n  } finally {\n    extractLoading.value = false\n  }\n}\n\nasync function resolveCustomer({ invoiceBillNumber, customerCode }) {\n  // Priority 1: by customerCode\n  if (customerCode) {\n    // Try common fields one by one to avoid server errors on unknown fields\n    const fieldsToTry = ['mobile_no', 'customer_code']\n    for (const field of fieldsToTry) {\n      try {\n        const byCode = await findCustomerByField(field, customerCode)\n        if (byCode) return byCode\n      } catch (_) {\n        // ignore and try next\n      }\n    }\n  }\n  // Fallback: use invoice number to read Sales Invoice and derive customer\n  if (invoiceBillNumber) {\n    try {\n      const invRes = await fetch(`/api/resource/Sales%20Invoice/${encodeURIComponent(invoiceBillNumber)}`)\n      if (invRes.ok) {\n        const invJson = await invRes.json()\n        const doc = invJson?.data\n        if (doc?.customer) {\n          return { customer: doc.customer, customer_name: doc.customer_name || doc.customer }\n        }\n      }\n    } catch (_) {}\n  }\n  return null\n}\n\nasync function findCustomerByField(field, value) {\n  const params = new URLSearchParams()\n  params.set('fields', JSON.stringify(['name', 'customer_name']))\n  params.set('filters', JSON.stringify([[field, '=', String(value)]]))\n  params.set('limit_page_length', '1')\n  const res = await fetch(`/api/resource/Customer?${params.toString()}`)\n  if (!res.ok) return null\n  const json = await res.json()\n  const list = json?.data\n  if (Array.isArray(list) && list.length > 0) {\n    return { customer: list[0].name, customer_name: list[0].customer_name || list[0].name }\n  }\n  return null\n}\n\n// Watch for view mode changes\nwatch(viewMode, () => {\n  if (filters.customer && filters.from_date && filters.to_date) {\n    loadData()\n  }\n})\n\n// Initialize\nonMounted(() => {\n  // Set default dates (last 30 days)\n  const today = new Date()\n  const thirtyDaysAgo = new Date(today.getTime() - (30 * 24 * 60 * 60 * 1000))\n  \n  filters.to_date = today.toISOString().split('T')[0]\n  filters.from_date = thirtyDaysAgo.toISOString().split('T')[0]\n})\n</script>\n\n<style scoped>\n/* Custom styles for better responsiveness */\n@media (max-width: 768px) {\n  .grid-cols-1.md\\:grid-cols-3 {\n    grid-template-columns: repeat(1, minmax(0, 1fr));\n  }\n}\n\n/* Smooth transitions */\n.transition-colors {\n  transition: all 0.2s ease-in-out;\n}\n\n/* Hover effects */\n.hover\\:bg-gray-50:hover {\n  background-color: #f9fafb;\n}\n\n/* Custom scrollbar for tables */\n.overflow-x-auto::-webkit-scrollbar {\n  height: 6px;\n}\n\n.overflow-x-auto::-webkit-scrollbar-track {\n  background: #f1f1f1;\n  border-radius: 3px;\n}\n\n.overflow-x-auto::-webkit-scrollbar-thumb {\n  background: #c1c1c1;\n  border-radius: 3px;\n}\n\n.overflow-x-auto::-webkit-scrollbar-thumb:hover {\n  background: #a8a8a8;\n}\n</style>\n"],"names":["loading","ref","error","viewMode","data","summaryData","filters","reactive","selectionLocked","selectMode","extractLoading","extractError","selectedCustomer","qrSupported","qrVideo","salesInvoicesResource","createResource","result","err","salesInvoiceSummaryResource","loadData","__async","filtersParam","formatDate","dateString","formatCurrency","amount","getStatusTheme","status","resetSelection","onPhotoSelected","event","file","_b","_a","b64","resolve","reject","reader","res","json","msg","invoiceBillNumber","customerName","resolved","resolveCustomer","e","_0","customerCode","fieldsToTry","field","byCode","findCustomerByField","_","invRes","invJson","doc","value","params","list","watch","onMounted","today","thirtyDaysAgo","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_cache","_hoisted_5","_unref","session","_hoisted_6","_createVNode","_component_Button","$event","$router","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_toDisplayString","_hoisted_14","_hoisted_15","_hoisted_16","_normalizeClass","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","_createBlock","_component_Alert","_vModelText","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_Fragment","_renderList","invoice","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_component_Badge","_createTextVNode","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","item","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","group","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","_hoisted_70","_hoisted_71","_hoisted_72","_hoisted_73","_hoisted_74","_hoisted_75"],"mappings":"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"}